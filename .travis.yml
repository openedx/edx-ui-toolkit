language: node_js

sudo: false

node_js:
    - "4.1"

before_install:
    - export CHROME_BIN=chromium-browser
    - export DISPLAY=:99.0
    - sh -e /etc/init.d/xvfb start

install:
    - npm install
    - bower install

script: gulp test --ci

after_script:
    - cat ./coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js
    - ls -a node_modules/.bin
    - ./node_modules/.bin/coveralls

branches:
    only:
      - master

addons:
    firefox: latest
